@let isAuthenticated = authService.isAuthenticated();

<main class="ui-main-container py-5">
    <section class="container" [class.loading]="(!loading && !data) || !isAuthenticated">
        <button class="btn ui-btn-transparent ui-card-report-back-btn ui-nav-link mb-4" (click)="goToHome()">
            < Volver atrás </button>
                @if(isAuthenticated) {
                    @if(!loading && !error && data) {
                    <div class="ui-card-report-details">
                        <span class="tag">{{data.type}}</span>
                        <h1 class="my-2 mt-3">{{data.title}}</h1>
                        <p class="subtitle d-flex gap-10 align-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="lucide lucide-calendar w-5 h-5 text-blue-800" aria-hidden="true">
                                <path d="M8 2v4"></path>
                                <path d="M16 2v4"></path>
                                <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                <path d="M3 10h18"></path>
                            </svg>

                            {{data.date}} • Por {{data.source}}
                        </p>

                        <hr>

                        <div class="content">
                            {{data.content}}
                        </div>

                        <hr class="line-footer">

                        <div class="">
                            Este noticia te resultó útil?

                            <div class="d-flex likes-btns">
                                <button class="btn ui-btn-outline ui-btn-outline-like">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-thumbs-up w-4 h-4" aria-hidden="true">
                                        <path d="M7 10v12"></path>
                                        <path
                                            d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z">
                                        </path>
                                    </svg>
                                    <span>{{data.likes}}</span>
                                </button>

                                <button class="btn ui-btn-outline ui-btn-outline-like">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-thumbs-down w-4 h-4"
                                        aria-hidden="true">
                                        <path d="M17 14V2"></path>
                                        <path
                                            d="M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z">
                                        </path>
                                    </svg>
                                    <span>{{data.dislikes}}</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    } @else if(!loading && !error && !data) {
                    <div class="alert alert-danger" role="alert">
                        No se pudieron cargar los detalles del reporte. Por favor, inténtalo de nuevo más tarde.
                    </div>
                    }@else if(!loading && error) {
                    <div class="alert alert-danger" role="alert">
                        Ocurrió un error al cargar el reporte. Por favor, inténtalo de nuevo más tarde.
                    </div>
                    } @else if(loading) {
                    <div class="d-flex justify-content-center align-items-center flex-column" style="min-height: 40vh;">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <p class="mt-3 text-center">La mejor herramienta que tiene el inversor común <br> es el conocimiento
                            y su
                            paciencia.</p>
                    </div>
                    }
                } @else {
                    <div class="alert alert-danger" role="alert">
                        Inicia sesión para ver más detalles...
                    </div>
                }

    </section>
</main>